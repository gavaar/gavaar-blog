@for (category of config(); track category; let lastCategory = $last) {
  @if (category.icon && category.title) {
    <h4 class="gav-sidenav__category-title"
      (click)="category.click()">
      <gav-icon [icon]="category.icon" />
      <span class="gav-sidenav__hideable-text">{{ category.title }}</span>
    </h4>
  }
  
  @for (item of category.items(); track item.title; let firstItem = $first) {
    <div @enterLeave
      class="gav-sidenav__item"
      [class.bottom]="lastCategory && firstItem"
      routerLinkActive="active"
      [routerLinkActiveOptions]="{ exact: !item.routerLink}"
      [routerLink]="item.routerLink"
      [style.--gav-sidenav__item-bg]="item.bg ? 'url(assets/images/' + item.bg + ')' : 'unset'"
      (click)="item.click()"
      (touchend)="api.open.set(false)">
      <div class="gav-sidenav__item-background"
        [style.--gav-sidenav__item-bg]="'url(assets/images/' + item.bg + ')'">
      </div>
      @if (item.portrait) {
        <img class="gav-sidenav__portrait" [src]="'assets/images/' + item.portrait" />
      }
      @if (item.icon) {
        <gav-icon class="gav-sidenav__portrait icon" [icon]="item.icon" />
      }
      <span class="gav-sidenav__hideable-text">{{ item.title }}</span>
    </div>
  }
}

<div class="gav-sidenav__backdrop" (click)="api.open.set(false)"></div>
